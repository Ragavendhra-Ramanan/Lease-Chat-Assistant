<!-- chat-window.component.html -->
<div class="chat-window">
  <div *ngIf="recommendations.length > 0" class="recommendations">
    <div
      *ngFor="let reco of recommendations"
      class="reco-card"
      (click)="onRecommendationClick(reco)"
    >
      {{ reco }}
    </div>
  </div>

  <div #scrollContainer class="messages">
    <div
      *ngFor="let message of messages"
      class="message"
      [ngClass]="message.sender"
    >
  
    <!-- normal text with markdown -->
    <div [innerHTML]="getMessageContent(message)"></div>

    <!-- PDF link if filestream exists -->
    <button *ngIf="message.fileStream"
            class="pdf-btn"
            (click)="openPdf(message.fileStream)">
      ðŸ“„ Open PDF
    </button>
  </div>

    <div *ngIf="isBotTyping" class="message bot typing-loader">
      <span></span><span></span><span></span>
    </div>
  </div>
  <div class="input-box">
    <input
      [(ngModel)]="message"
      placeholder="Send a message..."
      (keyup.enter)="sendMessage()"
    />
    <button (click)="sendMessage()">âž¤</button>
  </div>
</div>
